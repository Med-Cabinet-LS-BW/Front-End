{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Tim\\\\Desktop\\\\Lambda\\\\Build-Week-2\\\\Front-End\\\\medizen\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Tim\\\\Desktop\\\\Lambda\\\\Build-Week-2\\\\Front-End\\\\medizen\\\\src\\\\src\\\\components\\\\Auth\\\\Register.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { withFormik, Form, Field } from \"formik\";\nimport * as Yup from \"yup\";\nimport moment from 'moment';\n\nconst Register = ({\n  values,\n  errors,\n  touched,\n  status\n}) => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  useEffect(() => {\n    status && setUser(user => [...user, status]);\n  }, [status]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, \"Register Below\"), React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, React.createElement(Field, {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }), touched.email && errors.email && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, errors.email), React.createElement(Field, {\n    type: \"date\",\n    name: \"birthDate\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }), React.createElement(Field, {\n    type: \"password\",\n    placeholder: \"password\",\n    name: \"password\",\n    autoComplete: \"off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }), touched.password && errors.password && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, errors.password), React.createElement(Field, {\n    type: \"password\",\n    name: \"confirmPassword\",\n    placeholder: \"confirm password\",\n    autoComplete: \"off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }), touched.confirmPassword && errors.confirmPassword && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, errors.confirmPassword), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"Submit\")));\n};\n\nconst FormikRegister = withFormik({\n  mapPropsToValues({\n    email,\n    password,\n    confirmPassword,\n    birthDate\n  }) {\n    return {\n      email: email || '',\n      password: password || '',\n      confirmPassword: confirmPassword || '',\n      birthDate: birthDate || ''\n    };\n  },\n\n  validationSchema: Yup.object().shape({\n    email: Yup.string().required().email(),\n    password: Yup.string().required('No Password Provided.').min(8, 'Password too short. 8 characters minimum.'),\n    confirmPassword: Yup.string().required().label('Confirm Password').test('passwords-match', 'Passwords must match.', function (e) {\n      return this.parent.password === e;\n    }),\n    birthDate: Yup.string().test('good-date', 'You must be 21 years old to register an account', value => {\n      return moment().diff(moment(value), 'years') >= 21;\n    })\n  }),\n\n  handleSubmit(values, {\n    setStatus,\n    resetForm\n  }) {\n    axios.post(\"https://medizen-api.herokuapp.com/api/auth/register\", values).then(response => {\n      //console.log(response.data.token);\n      localStorage.setItem(\"token\", response.data.token);\n      setStatus(response.data);\n    }).catch(err => console.log(err.response));\n    resetForm();\n  }\n\n})(Register);\nexport default FormikRegister;","map":{"version":3,"sources":["C:/Users/Tim/Desktop/Lambda/Build-Week-2/Front-End/medizen/src/src/components/Auth/Register.js"],"names":["React","useState","useEffect","axios","withFormik","Form","Field","Yup","moment","Register","values","errors","touched","status","user","setUser","email","password","confirmPassword","FormikRegister","mapPropsToValues","birthDate","validationSchema","object","shape","string","required","min","label","test","e","parent","value","diff","handleSubmit","setStatus","resetForm","post","then","response","localStorage","setItem","data","token","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport axios from \"axios\";\r\nimport { withFormik, Form, Field } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport moment from 'moment';\r\n\r\nconst Register = ({values, errors, touched, status}) => {\r\n\r\n    const [user, setUser] = useState([]);\r\n\r\n    useEffect(() => {\r\n        status && setUser(user => [...user, status]);\r\n    }, [status])\r\n\r\n    return (\r\n        <div>\r\n            <h2>Register Below</h2>\r\n            <Form>\r\n                <Field type=\"email\" name=\"email\" placeholder=\"email\" />\r\n                {touched.email && errors.email && <p>{errors.email}</p>}\r\n                <Field type=\"date\" name=\"birthDate\" />\r\n                {/* Validation */}\r\n                <Field type=\"password\" placeholder=\"password\" name=\"password\" autoComplete=\"off\" />\r\n                {touched.password && errors.password && <p>{errors.password}</p>}\r\n                <Field type=\"password\" name=\"confirmPassword\" placeholder=\"confirm password\" autoComplete=\"off\" />\r\n                {touched.confirmPassword && errors.confirmPassword && <p>{errors.confirmPassword}</p>}\r\n                <button type=\"submit\">Submit</button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst FormikRegister = withFormik({\r\n    mapPropsToValues({email, password, confirmPassword, birthDate}) {\r\n        return {\r\n            email: email || '',\r\n            password: password || '',\r\n            confirmPassword: confirmPassword || '',\r\n            birthDate: birthDate || '',\r\n        };\r\n    },\r\n    validationSchema: Yup.object().shape({\r\n        email: Yup.string().required().email(),\r\n        password: Yup.string().required('No Password Provided.').min(8, 'Password too short. 8 characters minimum.'),\r\n        confirmPassword: Yup.string().required().label('Confirm Password').test('passwords-match', 'Passwords must match.', function(e) {return this.parent.password === e;}),\r\n        birthDate: Yup.string().test('good-date', 'You must be 21 years old to register an account', value => {return moment().diff(moment(value), 'years') >= 21})\r\n    }),\r\n    handleSubmit(values, {setStatus, resetForm}) {\r\n        axios.post(\"https://medizen-api.herokuapp.com/api/auth/register\", values)\r\n        .then(response => {\r\n            //console.log(response.data.token);\r\n            localStorage.setItem(\"token\", response.data.token);\r\n            setStatus(response.data);\r\n        })\r\n        .catch(err => console.log(err.response));\r\n        resetForm();\r\n    }\r\n})(Register)\r\n\r\nexport default FormikRegister;"]},"metadata":{},"sourceType":"module"}